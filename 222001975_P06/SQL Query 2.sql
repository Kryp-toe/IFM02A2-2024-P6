USE MECHANIC_SHOP;
-- B Create all necessary tables. Name the tables and all their attributes appropriately --
CREATE TABLE CLIENT(
	CLIENT_ID INT UNIQUE NOT NULL,
	C_NAME VARCHAR(255) NOT NULL,
	C_SURNAME VARCHAR(255) NOT NULL,
	C_EMAIL VARCHAR(255) NOT NULL,
	C_CONTACT_NO VARCHAR(13) NOT NULL,
	PRIMARY KEY(CLIENT_ID)
);

CREATE TABLE CAR(
	CLIENT_ID INT NOT NULL,
	CAR_ID INT UNIQUE NOT NULL,
	C_VIN VARCHAR(255) UNIQUE NOT NULL,
	C_BRAND VARCHAR(255) NOT NULL,
	C_MODEL VARCHAR(255) NOT NULL,
	C_YEAR VARCHAR(4) NOT NULL,
	C_REG_NO VARCHAR(8) UNIQUE NOT NULL,
	PRIMARY KEY(CAR_ID),
	FOREIGN KEY(CLIENT_ID) REFERENCES CLIENT(CLIENT_ID)
);

CREATE TABLE INVOICE(
	I_NO INT UNIQUE NOT NULL,
	CAR_ID INT NOT NULL,
	I_DATE DATE NOT NULL,
	I_PAYMENT_STATUS INT NOT NULL,
	I_RATING INT NOT NULL,
	QUANTITY INT,
	PRIMARY KEY(I_NO),
	FOREIGN KEY(CAR_ID) REFERENCES CAR(CAR_ID)
);

CREATE TABLE PART(
	I_ID INT NOT NULL,
	P_ID INT UNIQUE NOT NULL,
	P_NAME VARCHAR(255) NOT NULL,
	P_PRICE INT NOT NULL
	PRIMARY KEY(P_ID),
	FOREIGN KEY(I_ID) REFERENCES INVOICE(I_NO)
);

-- C Using SQL, insert TWO records into each of the tables created to demonstrate that you have created them correctly. --
INSERT INTO CLIENT(CLIENT_ID,C_NAME,C_SURNAME,C_EMAIL,C_CONTACT_NO) VALUES
(1, 'RUAN', 'BUZZ', 'EMAIL@1', '1'),
(2, 'KEAMO', 'MARA', 'EMAIL@2', '2'),
(3, 'ABDULLAH', 'ME', 'EMAIL@3', '3');

INSERT INTO CAR(CLIENT_ID,CAR_ID,C_VIN,C_BRAND,C_MODEL,C_YEAR,C_REG_NO) VALUES
(1, 1, '312', 'FORD', 'RANGER', '2024', '1'),
(1, 2, '645', 'BMW', 'M3', '2024', '2'),
(2, 3, '987', 'QUANTUM', 'TAXI', '2024', '3'),
(2, 4, '195', 'VW', 'POLO', '2024', '4'),
(3, 5, '537', 'BAJAJ', 'TUKTUK', '2024', '5');

INSERT INTO INVOICE(I_NO,CAR_ID,I_DATE,I_PAYMENT_STATUS,I_RATING,QUANTITY) VALUES
(1,1,'2023-06-16','0',1,1),
(2,2,'2023-04-21','1',2,1),
(3,3,'2023-05-01','0',3,2),
(4,4,'2024-05-05','1',4,1),
(5,5,'2024-05-05','0',5,2),
(6,3,'2024-05-05','1',2,1);

INSERT INTO PART(I_ID,P_ID,P_NAME,P_PRICE) VALUES
(1,1,'PART 1',50),
(2,2,'PART 2',150),
(3,3,'PART 3',200),
(4,4,'PART 4',250),
(5,5,'SUPER TURBO',300),
(6,6,'PART 6',350),
(3,7,'PART 7',400),
(5,8,'PART 8',450);

SELECT * FROM CLIENT;
SELECT * FROM CAR;
SELECT * FROM INVOICE;
SELECT * FROM PART;